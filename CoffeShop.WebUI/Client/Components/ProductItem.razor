@using CoffeShop.WebUI.Shared.Dtos
@using CoffeShop.WebUI.Client.Services
@inject ICartService CartService
<div class="card">
    <img src="@Product.ImageUrl" class="card-img-top" alt="@Product.ProductName">
    <div class="card-body">
        <h5 class="card-title">@Product.ProductName</h5>
        <p class="card-text">
            <a href="#" class="card-link">
                @Product.CategoryName
            </a>
            <br />
            <code>
                @Product.Price.ToString("c")
            </code>
        </p>
        <button class="btn btn-primary" @onclick="() => AddToCart(Product.Id)">Add to cart</button>
    </div>
</div>

@code {

    [Parameter]
    public ProductDto Product { get; set; }

    private async Task AddToCart(int productId) {
        await CartService.AddToCart(productId);
        Console.WriteLine(productId);
    }
}

